{# templates/index.html.twig #}
{% extends 'Backend/layout.html.twig' %}
    {% block scriptsheets %}
    <script src="{{ absolute_url(asset('backend/global_assets/js/plugins/tables/datatables/datatables.min.js')) }}"></script>
    <script src="{{ absolute_url(asset('backend/global_assets/js/plugins/forms/selects/select2.min.js')) }}"></script>
    <script src="{{ absolute_url(asset('backend/global_assets/js/demo_pages/datatables_basic.js')) }}"></script>


    <script src="{{ absolute_url(asset('backend/global_assets/js/plugins/forms/styling/switchery.min.js')) }}"></script>
    <script src="{{ absolute_url(asset('backend/global_assets/js/plugins/forms/styling/uniform.min.js')) }}"></script>
    <script src="{{ absolute_url(asset('backend/global_assets/js/plugins/forms/selects/select2.min.js')) }}"></script>
    <script src="{{ absolute_url(asset('backend/global_assets/js/plugins/uploaders/fileinput/plugins/purify.min.js')) }}"></script>
    <script src="{{ absolute_url(asset('backend/global_assets/js/plugins/uploaders/fileinput/plugins/sortable.min.js')) }}"></script>
    <script src="{{ absolute_url(asset('backend/global_assets/js/plugins/uploaders/fileinput/fileinput.min.js')) }}"></script>
    <script src="{{ absolute_url(asset('backend/global_assets/js/demo_pages/form_actions.js')) }}"></script>
    <script src="{{ absolute_url(asset('backend/global_assets/js/demo_pages/uploader_bootstrap.js')) }}"></script>
    {% endblock %}


{% block content %}
    <!-- Content area -->
            <div class="content">

                <!-- Form validation -->

                <!-- State saving -->
                <div class="card">
                                <div class="card-header header-elements-inline card-header bg-teal">
                                    <h5 class="card-title"> <i class="icon-users4"></i>  Mon Compte </h5>
                                    <div class="header-elements">
                                        <div class="list-icons"> 
                                        </div>
                                    </div>
                                </div>

                    <p>
                    
         {% for message in app.flashes('success') %}
        <div class="alert alert-success alert-styled-right alert-arrow-right alert-dismissible">
                                    <button type="button" class="close" data-dismiss="alert"><span>×</span></button>
                                    <span class="font-weight-semibold">{{ message }}</span> 
                                </div>{% endfor %}

        {% for message in app.flashes('danger') %}
        <div class="alert alert-danger alert-styled-right alert-dismissible">
                                    <button type="button" class="close" data-dismiss="alert"><span>×</span></button>
                                    <span class="font-weight-semibold">{{ message }}</span> 
                                </div>{% endfor %}
                    </p>
                         {{ form_start(form, {'attr': {'validate': 'validate','class': 'col-lg-12'  }}) }}
                                <div class="card-body row">
                                    <div class="col-lg-6">
                                        <div class="form-group row">
                                            <label class="col-lg-3 col-form-label font-weight-semibold"><i class="icon-pencil7"></i>Nom:</label>
                                            {{ form_widget(form.firstName, {'attr': {'required' :'required','class': 'form-control col-lg-4 ','placeholder':'firstName'}}) }}
                                            {{ form_errors(form.firstName) }}
                                        </div>
                                        <div class="form-group row">
                                            <label class="col-lg-3 col-form-label font-weight-semibold"><i class="icon-pencil7"></i>Prenom:</label>
                                            {{ form_widget(form.lastName, {'attr': {'required' :'required','class': 'form-control col-lg-4 ','placeholder':'lastName '}}) }}
                                            {{ form_errors(form.lastName) }}
                                        </div>
                                        <div class="form-group row">
                                            <label class="col-lg-3 col-form-label font-weight-semibold"><i class="icon-pencil7"></i>Login (Email/ Téléphone ):</label>
                                            {{ form_widget(form.email, {'attr': {'required' :'required','class': 'form-control col-lg-4 ','placeholder':'email'}}) }}
                                            {{ form_errors(form.email) }}
                                        </div>
                                    </div>

                                    <div class="col-lg-6">
                                        <div class="form-group row">
                                            <label class="col-lg-3 col-form-label font-weight-semibold"><i class="icon-pencil7"></i>Téléphone:</label>
                                            {{ form_widget(form.phone, {'attr': {'required' :'required','class': 'form-control col-lg-4 ','placeholder':'phone'}}) }}
                                            {{ form_errors(form.phone) }}
                                        </div>
                                     </div>

                                </div>

                                <div class="card-footer d-flex justify-content-between align-items-center">

                                     {% if is_granted('ROLE_ADMIN') %}
                                           {% else %}
                                           <a href="{{ path('backend_dashboard') }}" class="btn alpha-blue text-blue-800 border-blue-600">Cancel <i class="icon-cross2 ml-2"></i></a>
                                           {% endif %}
                                    <button type="submit" class="btn bg-success">Valider <i class="icon-checkmark ml-2"></i></button>
                                </div>
                        {{ form_end(form) }}

                                <div class="card-body row">

                                    <div class="col-lg-6">
                                       {{ form_start(formlogin, {'attr': {'validate': 'validate','class': 'col-lg-12'  }}) }}

                                        <div class="form-group row">
                                            <label class="col-lg-12 col-form-label font-weight-semibold"><i class="icon-pencil7"></i>password:</label>
                                            {{ form_widget(formlogin.password, {'attr': {'required' :'required','class': 'form-control col-lg-12 ','placeholder':'password ','value':''}}) }}
                                            {{ form_errors(formlogin.password) }}
                                            <label class="col-lg-12 col-form-label font-weight-semibold"><i class="icon-pencil7"></i>Confirme password:</label>
                                            <input type="password" name="oldpassword" class="form-control col-lg-12 ">
                                        </div>
                                    <button type="submit" class="btn bg-success">Modifier Mot de passe <i class="icon-checkmark ml-2"></i></button>
                        {{ form_end(formlogin) }}

                                     </div>
                                </div>
                </div>
                <!-- /state saving -->
           
            </div>
            
{% endblock %}
